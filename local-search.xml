<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>文件编码</title>
    <link href="/2022/01/03/java/%E7%BC%96%E7%A0%81/"/>
    <url>/2022/01/03/java/%E7%BC%96%E7%A0%81/</url>
    
    <content type="html"><![CDATA[<h2 id="gbk"><a href="#gbk" class="headerlink" title="gbk"></a>gbk</h2><p>gbk 编码中文占用2个字节，英文占用1个字节</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> UnsupportedEncodingException </span>&#123;<br>        String s = <span class="hljs-string">&quot;风间ABC&quot;</span>;<br>        <span class="hljs-keyword">byte</span>[] bytes3 = s.getBytes(<span class="hljs-string">&quot;gbk&quot;</span>);<br>        <span class="hljs-comment">// gbk 编码中文占用2个字节，英文占用1个字节</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">byte</span> b : bytes3) &#123;<br>            <span class="hljs-comment">// 把字节（转换成了int）以16进制的方式显示</span><br>            System.out.print(Integer.toHexString(b &amp; <span class="hljs-number">0xff</span>)+<span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><p>提示：&amp; 0xff 保留后8位置（一个字节8位，int占4个字节，展示时前面24位去掉）</p><h2 id="utf-8"><a href="#utf-8" class="headerlink" title="utf-8"></a>utf-8</h2><p>utf-8 编码中文占用3个字节，英文占用1个字节</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> UnsupportedEncodingException </span>&#123;<br>        String s = <span class="hljs-string">&quot;风间ABC&quot;</span>;<br>        <span class="hljs-keyword">byte</span>[] bytes1 = s.getBytes();<span class="hljs-comment">// 转换成字节序列，用的是项目默认的编码 utf-8</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">byte</span> b : bytes1) &#123;<br>            <span class="hljs-comment">// 把字节（转换成了int）以16进制的方式显示</span><br>            System.out.print(Integer.toHexString(b &amp; <span class="hljs-number">0xff</span>)+<span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">byte</span>[] bytes2 = s.getBytes(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>            <span class="hljs-comment">// utf-8 编码中文占用3个字节，英文占用1个字节</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">byte</span> b : bytes2) &#123;<br>                System.out.print(Integer.toHexString(b &amp; <span class="hljs-number">0xff</span>)+<span class="hljs-string">&quot; &quot;</span>);<br>            &#125;<br>        <br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="utf-16be"><a href="#utf-16be" class="headerlink" title="utf-16be"></a>utf-16be</h2><p>java 是双字节编码 utf-16be，java 中一个字符占两个字节<br>java 一个字符是否可以放一个汉字？可以，gbk编码的汉字</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> UnsupportedEncodingException </span>&#123;<br>        String s = <span class="hljs-string">&quot;风间ABC&quot;</span>;<br>        <span class="hljs-keyword">byte</span>[] bytes4 = s.getBytes(<span class="hljs-string">&quot;utf-16be&quot;</span>);<br>        <span class="hljs-comment">// utf-16be 中文占两个字节，英文占两个字节</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">byte</span> b : bytes4) &#123;<br>            System.out.print(Integer.toHexString(b &amp; <span class="hljs-number">0xff</span>)+<span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="字节序列转字符串"><a href="#字节序列转字符串" class="headerlink" title="字节序列转字符串"></a>字节序列转字符串</h2><p>当你的字节序列是某种编码时，这个时候想把字节序列变成字符串，<br>也需要用这种编码方式，否则会出现乱码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> UnsupportedEncodingException </span>&#123;<br>        String s = <span class="hljs-string">&quot;风间ABC&quot;</span>;<br>        String str1 = <span class="hljs-keyword">new</span> String(bytes4);<span class="hljs-comment">// 用项目默认的编码</span><br>        System.out.println(str1);<br><br>        String str2 = <span class="hljs-keyword">new</span> String(bytes4, <span class="hljs-string">&quot;utf-16be&quot;</span>);<br>        System.out.println(str2);<br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="项目间拷贝文件"><a href="#项目间拷贝文件" class="headerlink" title="项目间拷贝文件"></a>项目间拷贝文件</h2><p>文本文件就是字节序列，可以是任意编码格式<br>eclipse不同项目之间拷贝文件，编码不同会导致乱码，复制内容则会自动转换编码格式<br>​</p><p>​</p><p><strong>完</strong></p>]]></content>
    
    
    
    <tags>
      
      <tag>编码</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
